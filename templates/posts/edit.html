{% extends 'base.html' %}

{% block title %}
    Edit Post
{% endblock %}

{% block content %}
    <h1>Edit Post</h1>
    <form action="/posts/{{post.id}}/edit" method="POST">
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" for="title">Title: </label>
            <div class="col-sm-10">
                <input class="form-control" type="text" value={{post.title}} name="title" required>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label" for="content">Post Content: </label>
            <div class="col-sm-10">
                <input class="form-control" type="text" value={{post.content}} name="content" required>       
            </div>
        </div>

        <div class="form-check">
            {% for tag in tags %}
            <div>
                <input class="form-check-input"
                    type="checkbox" 
                    id = "tag_{{tag.id}}" 
                    value = {{tag.id}} 
                    name = 'tags'
                    {% if tag in post.tags %} checked {% endif %}
                >
                <label class="form-check-label" for="tag_{{tag.id}}">{{tag.name}}</label>
            </div>
            {% endfor %}
        </div>

        <div class="form-group row">
            <div class="ml-auto mr-3">
                <a class="btn btn-outline-info" href="/posts/{{post.id}}">Cancel</a>
                <button class="btn btn-success">Edit</button>
            </div>
        </div>
    </form>
{% endblock %}